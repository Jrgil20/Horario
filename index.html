<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horario de Estudio Semanal</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Estilos adicionales para el index */
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.2em;
            color: #666;
        }
        
        .error {
            background-color: #ffebee;
            color: #c62828;
            padding: 20px;
            border-radius: 5px;
            margin: 20px;
            border-left: 4px solid #c62828;
        }
        
        .controls {
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        
        .controls h3 {
            margin-top: 0;
            color: #495057;
        }
        
        .btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        
        .btn:hover {
            background-color: #0056b3;
        }
        
        .btn-secondary {
            background-color: #6c757d;
        }
        
        .btn-secondary:hover {
            background-color: #545b62;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ“š Horario de Estudio Semanal</h1>
        <p>PlanificaciÃ³n acadÃ©mica personalizada - Semestre 2026-1</p>
    </div>
    
    <div class="controls">
        <h3>ğŸ›ï¸ Controles del Horario</h3>
        <button class="btn" onclick="refreshSchedule()">ğŸ”„ Actualizar Horario</button>
        <button class="btn btn-secondary" onclick="exportSchedule()">ğŸ“„ Exportar a PDF</button>
        <button class="btn btn-secondary" onclick="printSchedule()">ğŸ–¨ï¸ Imprimir</button>
        <button class="btn btn-secondary" onclick="showStats()">ğŸ“Š Ver EstadÃ­sticas</button>
    </div>
    
    <div id="schedule-container">
        <div class="loading">
            <p>â³ Cargando horario...</p>
        </div>
    </div>
    
    <script>
        // ConfiguraciÃ³n del horario
        const scheduleConfig = {
            "schedule": {
                "title": "ğŸ“š Horario de Estudio Semanal",
                "timeSlots": [
                    "06:00-07:00",
                    "07:00-08:00",
                    "08:00-09:00",
                    "09:00-10:00",
                    "10:00-11:00",
                    "11:00-12:00",
                    "12:00-13:00",
                    "13:00-14:00",
                    "14:00-15:00",
                    "15:00-16:00",
                    "16:00-17:00",
                    "17:00-18:00",
                    "18:00-19:00",
                    "19:00-20:00",
                    "20:00-21:00",
                    "21:00-22:00",
                    "22:00+"
                ],
                "days": ["Lunes", "Martes", "MiÃ©rcoles", "Jueves", "Viernes", "SÃ¡bado", "Domingo"],
                "considerations": [
                    "ğŸ”´ Texto rojo: Todas las clases presenciales en universidad",
                    "ğŸ”µ Recuadro azul: Todo el tiempo que estÃ¡s en universidad (incluyendo esperas)",
                    "ğŸ« Universidad: Los jueves y viernes te quedas todo el dÃ­a hasta terminar",
                    "ğŸ“š Estudio: Sesiones de estudio en casa con tonos mÃ¡s claros",
                    "Desarrollo Software: MÃ¡xima prioridad con plan de respaldo para faltas del profesor",
                    "PerÃ­odos de 1h: Destinados a ocio segÃºn tus preferencias",
                    "MÃ¡ximo 3h seguidas: En dÃ­as libres para evitar saturaciÃ³n",
                    "IBM: 5 horas distribuidas estratÃ©gicamente",
                    "Tiempo libre: Celdas vacÃ­as para flexibilidad"
                ]
            },
            "subjects": {
                "desarrollo": {
                    "name": "Desarrollo de Software",
                    "classColor": "subject-desarrollo-clase",
                    "studyColor": "subject-desarrollo-estudio",
                    "icon": "ğŸ’»",
                    "priority": 1,
                    "weeklyStudyHours": 8,
                    "weeklyStudySessions": 9
                },
                "ciberseguridad": {
                    "name": "Ciberseguridad",
                    "classColor": "subject-ciberseguridad-clase",
                    "studyColor": "subject-ciberseguridad-estudio",
                    "icon": "ğŸ›¡ï¸",
                    "priority": 2,
                    "weeklyStudyHours": 4,
                    "weeklyStudySessions": 5
                },
                "metodos": {
                    "name": "MÃ©todos NumÃ©ricos",
                    "classColor": "subject-metodos-clase",
                    "studyColor": "subject-metodos-estudio",
                    "icon": "ğŸ“Š",
                    "priority": 3,
                    "weeklyStudyHours": 3,
                    "weeklyStudySessions": 4
                },
                "inteligencia": {
                    "name": "Inteligencia de Negocios",
                    "classColor": "subject-inteligencia-clase",
                    "studyColor": "subject-inteligencia-estudio",
                    "icon": "ğŸ“ˆ",
                    "priority": 4,
                    "weeklyStudyHours": 3,
                    "weeklyStudySessions": 4
                },
                "ingles": {
                    "name": "InglÃ©s I",
                    "classColor": "subject-ingles-clase",
                    "studyColor": "subject-ingles-estudio",
                    "icon": "ğŸ‡ºğŸ‡¸",
                    "priority": 5,
                    "weeklyStudyHours": 2,
                    "weeklyStudySessions": 3
                },
                "etica": {
                    "name": "Ã‰tica Profesional",
                    "classColor": "subject-etica-clase",
                    "studyColor": "subject-etica-estudio",
                    "icon": "âš–ï¸",
                    "priority": 6,
                    "weeklyStudyHours": 1.5,
                    "weeklyStudySessions": 1,
                    "isVirtual": true
                }
            },
            "activities": {
                "ibm": {
                    "name": "IBM",
                    "color": "activity-ibm",
                    "icon": "ğŸ”§",
                    "weeklyHours": 5
                },
                "transporte": {
                    "name": "Transporte",
                    "color": "activity-transporte",
                    "icon": "ğŸšŒ"
                },
                "almuerzo": {
                    "name": "Almuerzo",
                    "color": "activity-almuerzo",
                    "icon": "ğŸ½ï¸"
                },
                "ocio": {
                    "name": "Ocio",
                    "color": "activity-ocio",
                    "icon": "ğŸ®"
                },
                "libre": {
                    "name": "Tiempo Libre",
                    "color": "activity-libre",
                    "icon": "ğŸ’¤"
                },
                "descanso": {
                    "name": "Descanso",
                    "color": "activity-descanso",
                    "icon": "ğŸ˜´"
                }
            }
        };

        // Datos del horario
        const scheduleData = {
            "06:00-07:00": ["", "", "", "PreparaciÃ³n", "PreparaciÃ³n", "", ""],
            "07:00-08:00": ["", "", "", "ğŸšŒ Universidad", "ğŸšŒ Universidad", "", ""],
            "08:00-09:00": ["PreparaciÃ³n", "Desayuno", "Desayuno", "ğŸ«ğŸ“Š MÃ©todos NumÃ©ricos", "ğŸ«ğŸ›¡ï¸ Ciberseguridad (PrÃ¡ctica)", "", ""],
            "09:00-10:00": ["ğŸšŒ Universidad", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", "ğŸ«ğŸ“Š MÃ©todos NumÃ©ricos", "ğŸ«ğŸ›¡ï¸ Ciberseguridad (PrÃ¡ctica)", "Desayuno", "Desayuno"],
            "10:00-11:00": ["ğŸ«ğŸ“ˆ Inteligencia de Negocios", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", "", "", "ğŸ”§ IBM", ""],
            "11:00-12:00": ["ğŸ«ğŸ“ˆ Inteligencia de Negocios", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", "", "", "ğŸ”§ IBM", ""],
            "12:00-13:00": ["ğŸ«ğŸ“ˆ Inteligencia de Negocios", "ğŸ½ï¸ Almuerzo", "ğŸ½ï¸ Almuerzo", "ğŸ½ï¸ Almuerzo", "ğŸ½ï¸ Almuerzo", "ğŸ½ï¸ Almuerzo", "ğŸ½ï¸ Almuerzo"],
            "13:00-14:00": ["ğŸ½ï¸ Almuerzo", "ğŸ”§ IBM", "ğŸ”§ IBM", "", "", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", ""],
            "14:00-15:00": ["ğŸ® OCIO", "ğŸ”§ IBM", "ğŸ”§ IBM", "", "", "ğŸ“šğŸ’» DESARROLLO SOFTWARE", ""],
            "15:00-16:00": ["ğŸ«ğŸ›¡ï¸ Ciberseguridad", "Descanso", "Descanso", "ğŸ«ğŸ‡ºğŸ‡¸ InglÃ©s I", "", "", ""],
            "16:00-17:00": ["ğŸ«ğŸ›¡ï¸ Ciberseguridad", "ğŸ“šğŸ›¡ï¸ CIBERSEGURIDAD", "ğŸ“šğŸ“ˆ INTELIGENCIA NEGOCIOS", "ğŸ«ğŸ‡ºğŸ‡¸ InglÃ©s I", "ğŸ«ğŸ’» Desarrollo de Software", "", ""],
            "17:00-18:00": ["ğŸ® OCIO", "ğŸ“šğŸ›¡ï¸ CIBERSEGURIDAD", "ğŸ“šğŸ“ˆ INTELIGENCIA NEGOCIOS", "ğŸ«ğŸ‡ºğŸ‡¸ InglÃ©s I", "ğŸ«ğŸ’» Desarrollo de Software", "", "ğŸ“‹ Prep. Semana"],
            "18:00-19:00": ["ğŸ«ğŸ’» Desarrollo de Software", "ğŸ½ï¸ Cena", "ğŸ½ï¸ Cena", "ğŸšŒ Regreso", "ğŸšŒ Regreso", "ğŸ½ï¸ Cena", "ğŸ“– RevisiÃ³n semanal"],
            "19:00-20:00": ["ğŸ«ğŸ’» Desarrollo de Software", "ğŸ“šğŸ“Š MÃ‰TODOS NUMÃ‰RICOS", "ğŸ“šğŸ‡ºğŸ‡¸ INGLÃ‰S", "ğŸ«âš–ï¸ Ã‰tica Profesional (Virtual)", "ğŸ½ï¸ Cena", "ğŸ“šâš–ï¸ Ã‰TICA PROFESIONAL", "ğŸ½ï¸ Cena"],
            "20:00-21:00": ["ğŸšŒ Regreso", "", "", "ğŸ«âš–ï¸ Ã‰tica Profesional (Virtual)", "", "", ""],
            "21:00-22:00": ["ğŸ½ï¸ Cena", "", "", "ğŸ½ï¸ Cena", "", "", ""],
            "22:00+": ["ğŸ’¤ SueÃ±o", "ğŸ’¤ SueÃ±o", "ğŸ’¤ SueÃ±o", "ğŸ’¤ SueÃ±o", "ğŸ’¤ SueÃ±o", "ğŸ’¤ SueÃ±o", "ğŸ’¤ SueÃ±o"]
        };

        // Generador de horario
        class ScheduleGenerator {
            constructor(config, data) {
                this.config = config;
                this.scheduleData = data;
            }

            // MÃ©todo para detectar automÃ¡ticamente perÃ­odos de universidad
            isInUniversityPeriod(timeSlot, dayIndex) {
                const { timeSlots } = this.config.schedule;
                const currentTimeIndex = timeSlots.indexOf(timeSlot);
                
                // Buscar el Ã­ndice de "Universidad" en este dÃ­a
                let universityStartIndex = -1;
                let regresoIndex = -1;
                
                // Buscar desde el inicio hasta encontrar "Universidad"
                for (let i = 0; i < timeSlots.length; i++) {
                    const dayData = this.scheduleData[timeSlots[i]] || [];
                    const cellContent = dayData[dayIndex] || '';
                    
                    if (cellContent.includes('Universidad')) {
                        universityStartIndex = i;
                        break;
                    }
                }
                
                // Buscar "Regreso" despuÃ©s del inicio de universidad
                if (universityStartIndex !== -1) {
                    for (let i = universityStartIndex + 1; i < timeSlots.length; i++) {
                        const dayData = this.scheduleData[timeSlots[i]] || [];
                        const cellContent = dayData[dayIndex] || '';
                        
                        if (cellContent.includes('Regreso')) {
                            regresoIndex = i;
                            break;
                        }
                    }
                }
                
                // Si encontramos ambos, verificar si estamos en el rango
                if (universityStartIndex !== -1 && regresoIndex !== -1) {
                    // Estamos en universidad si estamos despuÃ©s del inicio y antes del regreso
                    return currentTimeIndex > universityStartIndex && currentTimeIndex < regresoIndex;
                }
                
                // Si solo encontramos inicio pero no regreso, asumir que estamos en universidad hasta el final del dÃ­a
                if (universityStartIndex !== -1 && regresoIndex === -1) {
                    return currentTimeIndex > universityStartIndex;
                }
                
                return false;
            }

            getCellClass(content, timeSlot, dayIndex) {
                let universityClass = '';
                
                // Determinar automÃ¡ticamente si estÃ¡ en universidad
                // Buscar desde "Universidad" hasta "Regreso" en el mismo dÃ­a
                const isInUniversity = this.isInUniversityPeriod(timeSlot, dayIndex);
                
                if (isInUniversity) {
                    universityClass = ' in-university';
                }
                
                // Si no hay contenido, solo devolver la clase de universidad
                if (!content) return universityClass;
                
                // Clases de materias
                if (content.includes('DESARROLLO SOFTWARE')) return 'subject-desarrollo-estudio' + universityClass;
                if (content.includes('Desarrollo de Software')) return 'subject-desarrollo-clase' + universityClass;
                if (content.includes('CIBERSEGURIDAD')) return 'subject-ciberseguridad-estudio' + universityClass;
                if (content.includes('Ciberseguridad')) return 'subject-ciberseguridad-clase' + universityClass;
                if (content.includes('MÃ‰TODOS NUMÃ‰RICOS')) return 'subject-metodos-estudio' + universityClass;
                if (content.includes('MÃ©todos NumÃ©ricos')) return 'subject-metodos-clase' + universityClass;
                if (content.includes('INTELIGENCIA NEGOCIOS')) return 'subject-inteligencia-estudio' + universityClass;
                if (content.includes('Inteligencia de Negocios')) return 'subject-inteligencia-clase' + universityClass;
                if (content.includes('INGLÃ‰S')) return 'subject-ingles-estudio' + universityClass;
                if (content.includes('InglÃ©s I')) return 'subject-ingles-clase' + universityClass;
                if (content.includes('Ã‰TICA PROFESIONAL')) return 'subject-etica-estudio' + universityClass;
                if (content.includes('Ã‰tica Profesional')) return 'subject-etica-clase' + universityClass;
                
                // Clases de actividades
                if (content.includes('IBM')) return 'activity-ibm' + universityClass;
                if (content.includes('Universidad') || content.includes('PreparaciÃ³n') || content.includes('Regreso') || content.includes('Prep. Semana')) return 'activity-transporte' + universityClass;
                if (content.includes('Almuerzo') || content.includes('Desayuno') || content.includes('Cena')) return 'activity-almuerzo' + universityClass;
                if (content.includes('OCIO')) return 'activity-ocio' + universityClass;
                if (content.includes('SueÃ±o') || content.includes('RevisiÃ³n semanal')) return 'activity-libre' + universityClass;
                if (content.includes('Descanso')) return 'activity-descanso' + universityClass;
                
                // Para cualquier otro contenido
                return universityClass;
            }

            generateScheduleTable() {
                const { timeSlots, days } = this.config.schedule;
                
                let html = '<table class="schedule-table">';
                
                // Encabezado
                html += '<thead><tr>';
                html += '<th>Hora</th>';
                days.forEach(day => {
                    html += `<th>${day}</th>`;
                });
                html += '</tr></thead>';
                
                // Cuerpo de la tabla
                html += '<tbody>';
                timeSlots.forEach(timeSlot => {
                    html += '<tr>';
                    html += `<td class="time-column">${timeSlot}</td>`;
                    
                    const dayData = this.scheduleData[timeSlot] || [];
                    for (let i = 0; i < days.length; i++) {
                        const content = dayData[i] || '';
                        const cellClass = this.getCellClass(content, timeSlot, i);
                        html += `<td class="${cellClass}">${content}</td>`;
                    }
                    html += '</tr>';
                });
                html += '</tbody></table>';
                
                return html;
            }

            generateSubjectsLegend() {
                const { subjects } = this.config;
                let html = '';
                
                // Calcular horas reales de cada materia
                const subjectStats = this.calculateSubjectStats();
                
                Object.values(subjects).forEach(subject => {
                    const stats = subjectStats[subject.name] || { classHours: 0, studyHours: 0 };
                    
                    // Clase presencial
                    if (stats.classHours > 0) {
                        html += `<div class="legend-item">
                            <div class="legend-color ${subject.classColor}"></div>
                            <span class="text-bold">ğŸ« ${subject.name} - Clase</span> - ${stats.classHours}h semanales
                        </div>`;
                    }
                    
                    // Estudio
                    if (stats.studyHours > 0) {
                        html += `<div class="legend-item">
                            <div class="legend-color ${subject.studyColor}"></div>
                            <span class="text-bold">ğŸ“š ${subject.name} - Estudio</span> - ${stats.studyHours}h semanales
                        </div>`;
                    }
                });
                
                return html;
            }

            // MÃ©todo para calcular estadÃ­sticas reales de materias
            calculateSubjectStats() {
                const stats = {};
                
                Object.values(this.scheduleData).forEach(dayData => {
                    dayData.forEach(cellContent => {
                        if (!cellContent) return;
                        
                        // Detectar materias y tipo (clase o estudio)
                        if (cellContent.includes('Desarrollo de Software')) {
                            this.addSubjectStats(stats, 'Desarrollo de Software', 'class');
                        } else if (cellContent.includes('DESARROLLO SOFTWARE')) {
                            this.addSubjectStats(stats, 'Desarrollo de Software', 'study');
                        } else if (cellContent.includes('Ciberseguridad')) {
                            this.addSubjectStats(stats, 'Ciberseguridad', 'class');
                        } else if (cellContent.includes('CIBERSEGURIDAD')) {
                            this.addSubjectStats(stats, 'Ciberseguridad', 'study');
                        } else if (cellContent.includes('MÃ©todos NumÃ©ricos')) {
                            this.addSubjectStats(stats, 'MÃ©todos NumÃ©ricos', 'class');
                        } else if (cellContent.includes('MÃ‰TODOS NUMÃ‰RICOS')) {
                            this.addSubjectStats(stats, 'MÃ©todos NumÃ©ricos', 'study');
                        } else if (cellContent.includes('Inteligencia de Negocios')) {
                            this.addSubjectStats(stats, 'Inteligencia de Negocios', 'class');
                        } else if (cellContent.includes('INTELIGENCIA NEGOCIOS')) {
                            this.addSubjectStats(stats, 'Inteligencia de Negocios', 'study');
                        } else if (cellContent.includes('InglÃ©s I')) {
                            this.addSubjectStats(stats, 'InglÃ©s I', 'class');
                        } else if (cellContent.includes('INGLÃ‰S')) {
                            this.addSubjectStats(stats, 'InglÃ©s I', 'study');
                        } else if (cellContent.includes('Ã‰tica Profesional')) {
                            this.addSubjectStats(stats, 'Ã‰tica Profesional', 'class');
                        } else if (cellContent.includes('Ã‰TICA PROFESIONAL')) {
                            this.addSubjectStats(stats, 'Ã‰tica Profesional', 'study');
                        }
                    });
                });
                
                return stats;
            }

            addSubjectStats(stats, subjectName, type) {
                if (!stats[subjectName]) {
                    stats[subjectName] = { classHours: 0, studyHours: 0 };
                }
                
                if (type === 'class') {
                    stats[subjectName].classHours += 1;
                } else if (type === 'study') {
                    stats[subjectName].studyHours += 1;
                }
            }

            generateActivitiesLegend() {
                const { activities } = this.config;
                let html = '';
                
                Object.values(activities).forEach(activity => {
                    const hoursText = activity.weeklyHours ? ` - ${activity.weeklyHours}h semanales` : '';
                    html += `<div class="legend-item">
                        <div class="legend-color ${activity.color}"></div>
                        <span class="text-bold">${activity.icon} ${activity.name}</span>${hoursText}
                    </div>`;
                });
                
                return html;
            }

            generateFullSchedule() {
                const { title, considerations } = this.config.schedule;
                
                return `
                <div class="schedule-container">
                    <h1 class="schedule-title">${title}</h1>
                    
                    ${this.generateScheduleTable()}

                    <div class="legend">
                        <h3 class="legend-title">ğŸ“‹ Leyenda por Importancia</h3>
                        ${this.generateSubjectsLegend()}
                        ${this.generateActivitiesLegend()}
                    </div>
                    
                    <div class="info-box">
                        <h4 class="info-title mt-0">âœ… Consideraciones del Plan:</h4>
                        <ul class="info-list mb-0">
                            ${considerations.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                </div>`;
            }

            render(containerId) {
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = this.generateFullSchedule();
                }
            }

            getScheduleStats() {
                const subjectStats = this.calculateSubjectStats();
                const stats = {
                    totalStudyHours: 0,
                    totalClassHours: 0,
                    totalIBMHours: 0,
                    subjects: subjectStats
                };

                // Calcular totales
                Object.values(subjectStats).forEach(subject => {
                    stats.totalStudyHours += subject.studyHours;
                    stats.totalClassHours += subject.classHours;
                });

                // Calcular horas de IBM
                Object.values(this.scheduleData).forEach(dayData => {
                    dayData.forEach(cellContent => {
                        if (cellContent.includes('IBM')) stats.totalIBMHours += 1;
                    });
                });

                return stats;
            }
        }

        // Variables globales
        let scheduleGenerator;

        // Funciones de control
        function refreshSchedule() {
            const container = document.getElementById('schedule-container');
            container.innerHTML = '<div class="loading"><p>â³ Actualizando horario...</p></div>';
            
            setTimeout(() => {
                scheduleGenerator = new ScheduleGenerator(scheduleConfig, scheduleData);
                scheduleGenerator.render('schedule-container');
            }, 500);
        }

        function exportSchedule() {
            alert('ğŸ“„ FunciÃ³n de exportaciÃ³n a PDF en desarrollo. Por ahora puedes usar Ctrl+P para imprimir.');
        }

        function printSchedule() {
            window.print();
        }

        function showStats() {
            const stats = scheduleGenerator.getScheduleStats();
            
            let message = `ğŸ“Š EstadÃ­sticas del Horario:\n\n`;
            message += `ğŸ“š Horas de Estudio: ${stats.totalStudyHours}h\n`;
            message += `ğŸ« Horas de Clase: ${stats.totalClassHours}h\n`;
            message += `ğŸ”§ Horas de IBM: ${stats.totalIBMHours}h\n`;
            message += `ğŸ“ˆ Total de Horas AcadÃ©micas: ${stats.totalStudyHours + stats.totalClassHours + stats.totalIBMHours}h\n\n`;
            
            message += `ğŸ“‹ Detalle por Materia:\n`;
            Object.entries(stats.subjects).forEach(([subject, data]) => {
                if (data.classHours > 0 || data.studyHours > 0) {
                    message += `â€¢ ${subject}: ${data.classHours}h clase + ${data.studyHours}h estudio\n`;
                }
            });
            
            alert(message);
        }

        // InicializaciÃ³n
        document.addEventListener('DOMContentLoaded', function() {
            try {
                scheduleGenerator = new ScheduleGenerator(scheduleConfig, scheduleData);
                scheduleGenerator.render('schedule-container');
                
                // Hacer el generador disponible globalmente
                window.scheduleGenerator = scheduleGenerator;
                
                console.log('âœ… Horario cargado correctamente');
            } catch (error) {
                console.error('âŒ Error al cargar el horario:', error);
                document.getElementById('schedule-container').innerHTML = 
                    '<div class="error"><h3>âŒ Error al cargar el horario</h3><p>Por favor, recarga la pÃ¡gina o contacta al administrador.</p></div>';
            }
        });
    </script>
</body>
</html>
